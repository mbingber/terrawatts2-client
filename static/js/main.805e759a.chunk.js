(this["webpackJsonpterrawatts2-client"]=this["webpackJsonpterrawatts2-client"]||[]).push([[0],{222:function(e,n){e.exports="data:image/png;base64,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"},223:function(e,n,t){e.exports=t.p+"static/media/oil.9fac5c6f.png"},302:function(e,n,t){e.exports=t.p+"static/media/boop.b1ac9adc.mp3"},326:function(e,n,t){e.exports=t(521)},331:function(e,n,t){},348:function(e,n,t){var r={"./coal.png":222,"./oil.png":223,"./trash.png":349,"./uranium.png":350,"./wind.png":351};function a(e){var n=i(e);return t(n)}function i(e){if(!t.o(r,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id=348},349:function(e,n,t){e.exports=t.p+"static/media/trash.a2636ebc.png"},350:function(e,n,t){e.exports=t.p+"static/media/uranium.4393d723.png"},351:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjY2NTk3NTFCNDMxNzExRTA4NzdFQjFFM0RGOTE4NTczIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjY2NTk3NTFDNDMxNzExRTA4NzdFQjFFM0RGOTE4NTczIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjY1OTc1MTk0MzE3MTFFMDg3N0VCMUUzREY5MTg1NzMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjY1OTc1MUE0MzE3MTFFMDg3N0VCMUUzREY5MTg1NzMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6n133RAAAZmElEQVR42uydCZhV1ZHH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"},503:function(e,n,t){e.exports=t.p+"static/media/trophy.661c17c4.svg"},506:function(e,n,t){},521:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(54),c=t.n(i),o=t(19),u=(t(331),t(3)),l=t(99),s=t(39),d=t(31),m=t(8),f=t(542),p=t(544),g=(t(209),t(146)),b=t(541),h=t(533),v=t(38);function E(){var e=Object(u.a)(["\n  height: 20px;\n  width: 20px;\n  border-radius: 20px;\n  background-color: #333;\n  color: #ddd;\n  font-size: 12px;\n  text-align: center;\n  font-weight: bold;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return E=function(){return e},e}var O=function(e){var n=e.cityLookup,t=e.connections;return a.a.createElement(a.a.Fragment,null,t.map((function(e){var t=e.cities.map((function(e){var t=e.id;return n[t]})),r={lat:.5*(t[0].lat+t[1].lat),lng:.5*(t[0].lng+t[1].lng)};return a.a.createElement("div",{key:e.id},a.a.createElement(b.a,{positions:t.map((function(e){return{lat:e.lat,lng:e.lng}})),color:"#333",weight:3,dashArray:"20",lineCap:"butt"}),a.a.createElement(b.a,{positions:t.map((function(e){return{lat:e.lat,lng:e.lng}})),color:"#bbb",weight:3,dashArray:"20",dashOffset:"20",lineCap:"butt"}),a.a.createElement(h.a,{position:r,icon:Object(v.divIcon)({html:Object(g.renderToString)(a.a.createElement(x,null,e.cost)),iconSize:[20,20]})}))})))},x=m.b.div(E()),y=t(16),j=t.n(y);function A(){var e=Object(u.a)(["\n  fragment Resources on Resources {\n    coal\n    oil\n    trash\n    uranium\n  }\n"]);return A=function(){return e},e}var I=j()(A());function C(){var e=Object(u.a)(["\n  fragment GameState on GameState {\n    info {\n      turn\n      era\n      phase\n      actionType\n      activeUser\n    }\n    resourceMarket {\n      ...Resources\n    }\n    playerOrder {\n      clockwiseOrder\n      username\n      color\n      money\n      resources {\n        ...Resources\n      }\n      plantIds\n    }\n    plantMarket\n    era3Plants\n    discardedPlants\n    possibleDeck\n    deckCount\n    cityList {\n      cityId\n      occupants\n    }\n    auction {\n      plantId\n      bid\n      leader\n      active\n      passed\n    }\n    plantPhaseEvents {\n      plantId\n      cost\n      username\n    }\n    isOver\n  }\n\n  # Fragments\n  ","\n"]);return C=function(){return e},e}var w=j()(C(),I);function k(){var e=Object(u.a)(["\n  fragment Game on Game {\n    id\n    map {\n      id\n      name\n      cities {\n        id\n        name\n        lat\n        lng\n        region\n      }\n      connections {\n        id\n        cost\n        cities {\n          id\n        }\n      }\n    }\n    regions\n    restockRates {\n      era1 {\n        ...Resources\n      }\n      era2 {\n        ...Resources\n      }\n      era3 {\n        ...Resources\n      }\n    }\n    era2Start\n    gameEnd\n    cityCostHelper\n    state {\n      ...GameState\n    }\n  }\n\n  # Fragments\n  ","\n  ","\n"]);return k=function(){return e},e}var P=j()(k(),I,w);function R(){var e=Object(u.a)(["\n  query GetGame($id: ID!) {\n    getGame(id: $id) {\n      ...Game\n    }\n  }\n\n  # Fragments\n  ","\n"]);return R=function(){return e},e}var B,N,M,D,S=j()(R(),P),U=function(e){return Object(o.useQuery)(S,{variables:{id:e}})},G=function(){var e=Object(d.h)().gameId,n=U(e),t=n.loading,r=n.error,a=n.data;return t||r||!a||!a.getGame?null:a.getGame};function L(){var e=Object(u.a)(["\n  height: ","px;\n  width: ","px;\n"]);return L=function(){return e},e}!function(e){e.CITY="CITY",e.PLANT="PLANT",e.POWER="POWER",e.RESOURCE="RESOURCE"}(B||(B={})),function(e){e.BID_ON_PLANT="BID_ON_PLANT",e.BUY_CITIES="BUY_CITIES",e.BUY_RESOURCES="BUY_RESOURCES",e.DISCARD_PLANT="DISCARD_PLANT",e.POWER_UP="POWER_UP",e.PUT_UP_PLANT="PUT_UP_PLANT"}(N||(N={})),function(e){e.BLACK="BLACK",e.BLUE="BLUE",e.GREEN="GREEN",e.PURPLE="PURPLE",e.RED="RED",e.YELLOW="YELLOW"}(M||(M={})),function(e){e.COAL="COAL",e.HYBRID="HYBRID",e.OIL="OIL",e.TRASH="TRASH",e.URANIUM="URANIUM",e.WIND="WIND"}(D||(D={}));var T=function(e){var n=e.color,t=e.height,r=void 0===t?16:t,i=e.empty,c=e.number,o=e.strokeWidth;return a.a.createElement(Y,{height:r},a.a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 10 10"},a.a.createElement("path",{d:"\n            M 1 9\n            L 1 5\n            L 5 1\n            L 9 5\n            L 9 9\n            Z\n          ",stroke:n,strokeWidth:o||1,fill:i?"none":n}),(c||0===c)&&a.a.createElement("text",{x:5,y:6.5,textAnchor:"middle",alignmentBaseline:"middle",style:{fontSize:5}},c)))},Y=m.b.div(L(),(function(e){return e.height}),(function(e){return e.height})),z=function(e){var n=e.height,t=void 0===n?24:n;return a.a.createElement(Y,{height:t},a.a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 10 10"},a.a.createElement("line",{x1:1,y1:5,x2:9.3,y2:5,stroke:"black",strokeWidth:1}),a.a.createElement("line",{x1:7,y1:3,x2:9,y2:5,stroke:"black",strokeWidth:1}),a.a.createElement("line",{x1:7,y1:7,x2:9,y2:5,stroke:"black",strokeWidth:1})))},Q=t(286),H=t.n(Q),F={COAL:"#7a623e",OIL:"#646675",TRASH:"#a3a359",URANIUM:"#a25858",WIND:"#75b786",HYBRID:"rgba(0, 0, 0, 0.5)"},V={COAL:"invert(40%) sepia(5%) saturate(4708%) hue-rotate(357deg) brightness(86%) contrast(71%)",OIL:"invert(40%) sepia(11%) saturate(480%) hue-rotate(195deg) brightness(96%) contrast(94%)",TRASH:"invert(78%) sepia(7%) saturate(2348%) hue-rotate(22deg) brightness(82%) contrast(83%)",URANIUM:"invert(42%) sepia(5%) saturate(3791%) hue-rotate(313deg) brightness(98%) contrast(98%)",WIND:"",HYBRID:""},Z={RED:"#D25C5C",YELLOW:"#D2BE5C",GREEN:"#5CD273",BLUE:"#5C9BD2",PURPLE:"#9B5CD2",BLACK:"#4A4A4A"},q=t(534);function W(){var e=Object(u.a)(["\n  border: 1px solid black;\n  height: 32px;\n  width: 60px;\n  border-radius: 2px;\n  background-color: ",";\n\n  .name {\n    width: 100%;\n    height: 25%;\n    text-align: center;\n    font-size: 9px;\n    color: #ccc;\n  }\n\n  .players {\n    width: 100%;\n    height: 75%;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    margin-top: 1px;\n\n    > div {\n      display: flex;\n      justify-content: center;\n      align-items: center\n      width: 16px;\n      height: 16px;\n      background-color: #ddd;\n      border-radius: 2px;\n    }\n  }\n"]);return W=function(){return e},e}var X=function(){},K=function(e){var n=e.city,t=e.colors,r=void 0===t?[]:t,i=e.era,c=void 0===i?3:i,o=e.isSelected,u=void 0!==o&&o,l=e.selectedColor,s=void 0===l?M.BLUE:l,d=e.onClick,m=void 0===d?X:d,f=e.hasNuclearPower,p=e.isDraggable,b=void 0!==p&&p,E=e.onDragEnd,O=Object(g.renderToString)(a.a.createElement($,{city:n,era:c,colors:r,isSelected:u,selectedColor:s,hasNuclearPower:f})),x=Object(q.a)(m,20);return a.a.createElement(h.a,{position:[n.lat,n.lng],onClick:x,icon:Object(v.divIcon)({iconSize:[60,30],className:"city-icon-".concat(n.id),html:O}),draggable:b,onDragEnd:function(e){return E&&E(e.target._latlng)}})},J=a.a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 10 10"},a.a.createElement("line",{x1:3.5,y1:3.5,x2:6.5,y2:6.5,stroke:"#888",strokeWidth:.75}),a.a.createElement("line",{x1:3.5,y1:6.5,x2:6.5,y2:3.5,stroke:"#888",strokeWidth:.75})),$=function(e){var n=e.city,t=e.era,r=e.colors,i=e.isSelected,c=e.selectedColor,o=e.hasNuclearPower;return a.a.createElement(_,{redden:o},a.a.createElement("div",{className:"name"},n.name),a.a.createElement("div",{className:"players"},Array(3).fill(!0).map((function(e,n){return a.a.createElement("div",{key:n},r[n]&&a.a.createElement(T,{color:Z[r[n]],height:16}),n>=t&&J,n===r.length&&i&&a.a.createElement(T,{color:c,empty:!0,height:16}))}))))},_=m.b.div(W(),(function(e){return e.redden?"#642D2D":"#333"}));function ee(){var e=Object(u.a)(["\n  query GetCurrentUser {\n    getCurrentUser {\n      id\n      username\n      preferredColor\n      we\n    }\n  }\n"]);return ee=function(){return e},e}var ne,te=j()(ee()),re=function(){var e=Object(o.useQuery)(te),n=e.loading,t=e.error,r=e.data,a=G();if(!a||n||t||!r||!r.getCurrentUser)return null;var i=r.getCurrentUser.username;return a.state.playerOrder.find((function(e){return e.username===i}))||null},ae=t(35),ie=(ne={USA:{center:[33.5,-95],minZoom:4.5,maxZoom:6.5,maxBounds:[[57,-145],[11,-59]]},Germany:{center:[51,10.5],minZoom:6,maxZoom:8.5},Italy:{center:[42,12.5],minZoom:6,maxZoom:9},Seattle:{center:[47.6062,-122.3321],minZoom:12,maxZoom:14}},Object(ae.a)(ne,"Northern Europe",{center:[61.4,20],minZoom:5,maxZoom:10}),Object(ae.a)(ne,"China",{center:[35.9,104.2],minZoom:4.5,maxZoom:6.5}),Object(ae.a)(ne,"France",{center:[46.2,2.2],minZoom:6,maxZoom:8.5}),ne),ce=function(e){return ie[e]||ie.USA},oe=t(13),ue=t(30),le={coal:0,oil:0,trash:0,uranium:0},se=t(69),de=function(){var e=G(),n=e.state,t=e.cityCostHelper,a=re(),i=Object(r.useState)([]),c=Object(oe.a)(i,2),o=c[0],u=c[1],l=function(e){if(a&&n.info.phase!==B.POWER){var t=n.playerOrder.findIndex((function(e){return e.username===a.username})),r=n.playerOrder.findIndex((function(e){return e.username===n.info.activeUser}));if(!(n.info.phase===B.CITY&&t>r)){var i=(n.cityList.find((function(n){return n.cityId===e}))||{}).occupants,c=void 0===i?[]:i;c.length>=n.info.era||c.some((function(e){return e===a.username}))||u([].concat(Object(se.a)(o),[e]))}}},s=function(e){return u(o.filter((function(n){return n!==e})))},d=function(e,n,t,r){if(!r||!n)return null;for(var a=t.slice(),i=e.cityList.filter((function(e){return e.occupants.some((function(e){return e===n.username}))})).map((function(e){return e.cityId})),c=0,o=function(){if(0===i.length)return i.push(a[0]),a=a.slice(1),"continue";var e=1/0,n=null;a.forEach((function(t){var a=i.map((function(e){return r[+e][+t]})),c=Math.min.apply(Math,Object(se.a)(a));c<e&&(e=c,n=t)})),c+=e,i.push(n),a=a.filter((function(e){return e!==n}))};a.length>0;)o();var u=t.reduce((function(n,t){var r=(e.cityList.find((function(e){return e.cityId===t}))||{}).occupants;return n+10+5*(void 0===r?[]:r).length}),0);return c+u}(n,a,o,JSON.parse(t));return Object(r.useEffect)((function(){if(n.info.phase===B.CITY){var e=o.reduce((function(e,t){var r=n.cityList.find((function(e){return e.cityId===t}));return r&&r.occupants.length>=n.info.era&&(e[t]=!0),e}),{});u(o.filter((function(n){return!e[n]})))}}),[n]),{cityIds:o,addToCart:l,removeFromCart:s,toggleInCart:function(e){o.includes(e)?s(e):l(e)},clearCart:function(){return u([])},cost:d}},me=function(){var e=G().state,n=Object(r.useState)([]),t=Object(oe.a)(n,2),a=t[0],i=t[1];Object(r.useEffect)((function(){i([])}),[e.info.actionType]);return{plants:a,togglePlant:function(e){a.some((function(n){return n.id===e.id}))?function(e){i(a.filter((function(n){return n.id!==e.id})))}(e):function(e){i([].concat(Object(se.a)(a),[e]))}(e)}}},fe=a.a.createContext({plantCart:null,resourceCart:null,cityCart:null,powerCart:null,discardCart:null}),pe=function(e){var n=e.children,t={plantCart:function(){var e=G().state,n=Object(r.useState)(null),t=Object(oe.a)(n,2),a=t[0],i=t[1];return Object(r.useEffect)((function(){i(null)}),[e.info.actionType]),{selectedPlant:a,setSelectedPlant:i}}(),resourceCart:function(){var e=G().state,n=Object(r.useState)(Object(ue.a)({},le)),t=Object(oe.a)(n,2),a=t[0],i=t[1];Object(r.useEffect)((function(){e.info.activeUser&&i(Object(ue.a)({},le))}),[e.info.activeUser]);return{resources:a,setResource:function(e){return function(n){i(Object(ue.a)(Object(ue.a)({},a),{},Object(ae.a)({},e,n)))}}}}(),cityCart:de(),powerCart:me(),discardCart:function(){var e=G().state,n=Object(r.useState)(null),t=Object(oe.a)(n,2),a=t[0],i=t[1];Object(r.useEffect)((function(){i(null)}),[e.info.actionType]);return{selectedPlant:a,togglePlant:function(e){a&&e.id===a.id?i(null):i(e)}}}()};return a.a.createElement(fe.Provider,{value:t},n)};function ge(){var e=Object(u.a)(["\n  height: 100%;\n\n  > div {\n    height: 100%;\n  }\n\n  .leaflet-div-icon {\n    background: none !important;\n    border: none !important;\n  }\n"]);return ge=function(){return e},e}var be="https://api.mapbox.com/v4/mapbox.satellite/{z}/{x}/{y}.png?access_token=".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/terrawatts2-client"}).REACT_APP_MAPBOX_API_KEY),he=function(){var e=G(),n=e.state,t=n.cityList,r=n.playerOrder,i=n.info,c=e.map,o=re(),u=a.a.useContext(fe).cityCart,l=a.a.useMemo((function(){return c.cities.reduce((function(e,n){return e[n.id]=n,e}),{})}),[c.cities]),s=a.a.useMemo((function(){return c.cities.reduce((function(e,n){var a=t.find((function(e){return e.cityId===n.id})),i=(a?a.occupants:[]).map((function(e){return r.find((function(n){return n.username===e})).color}));return e[n.id]=i,e}),{})}),[c,t,r]),d=ce(c.name),m=d.center,g=d.minZoom,b=d.maxZoom,h=d.maxBounds;return a.a.createElement(ve,null,a.a.createElement(f.a,{center:m,zoom:g,minZoom:g,maxZoom:b,maxBounds:h,attributionControl:!1,zoomControl:!1,zoomSnap:.25,zoomDelta:.25},a.a.createElement(p.a,{url:be}),c.cities.map((function(e){return a.a.createElement(K,{onClick:function(){u.toggleInCart(e.id)},key:e.id,city:e,colors:s[e.id],era:i.era,isSelected:u.cityIds.includes(e.id),selectedColor:o&&o.color,hasNuclearPower:"Northern Europe"===c.name&&e.region>2})})),"}",a.a.createElement(O,{cityLookup:l,connections:c.connections})))},ve=m.b.div(ge());function Ee(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  height: 60%;\n  font-size: 60%;\n\n  .slash {\n    font-size: 120%;\n    font-weight: bold;\n  }\n"]);return Ee=function(){return e},e}function Oe(){var e=Object(u.a)(["\n  max-height: 90%;\n\n  ","\n"]);return Oe=function(){return e},e}var xe=function(e){var n=e.type,r=e.withColor;return n===D.HYBRID?a.a.createElement(je,null,a.a.createElement(ye,{type:D.COAL,withColor:r,src:t(222)}),a.a.createElement("div",{className:"slash"},"/"),a.a.createElement(ye,{type:D.OIL,withColor:r,src:t(223)})):a.a.createElement(ye,{type:n,withColor:r,src:t(348)("./".concat(n.toLowerCase(),".png"))})},ye=m.b.img(Oe(),(function(e){var n=e.withColor,t=e.type;return n?"filter: ".concat(V[t],";"):""})),je=m.b.div(Ee()),Ae=function(e,n){return"uranium"===n?e<5?18-2*e:13-e:8-Math.floor((e-1)/3)},Ie=function(e,n){var t=Object(ue.a)({},e),r=Object(ue.a)({},n);return Object.keys(r).reduce((function(e,n){for(var a=n;r[a]>0;)e+=Ae(t[a],a),r[a]--,t[a]--;return e}),0)},Ce=function(e,n,t){return n.plantIds.some((function(n){var r=t(n),a=r.resourceType===D.HYBRID,i=["coal","oil"].includes(e),c=r.resourceType===e.toUpperCase();return a&&i||c}))},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,n){var t=n.resourceType,r=n.resourceBurn;return e[t]=e[t]||0,e[t]+=2*r,e}),{COAL:0,OIL:0,TRASH:0,URANIUM:0,WIND:0,HYBRID:0})},ke=function(e,n,t,r,a){return function(e,n,t,r){if(!e)return!1;if(Ie(t,n)>e.money)return!1;if(Object.keys(n).some((function(e){return n[e]>t[e]})))return!1;var a=we(e.plantIds.map(r)),i={coal:e.resources.coal+(n.coal||0),oil:e.resources.oil+(n.oil||0),trash:e.resources.trash+(n.trash||0),uranium:e.resources.uranium+(n.uranium||0)};for(var c in i){if("trash"===c&&i.trash>a[D.TRASH])return!1;if("uranium"===c&&i.uranium>a[D.URANIUM])return!1;if("coal"===c||"oil"===c)for(var o=0;o<i[c];o++){var u="coal"===c?D.COAL:D.OIL;if(a[u]>0)a[u]--;else{if(!(a[D.HYBRID]>0))return!1;a[D.HYBRID]--}}}return!0}(n,Object(ue.a)(Object(ue.a)({},t),{},Object(ae.a)({},e,t[e]+1)),r,a)};function Pe(){var e=Object(u.a)(["\n  border-top: 1px solid #999;\n  border-bottom: 1px solid #999;\n  height: 16px;\n  width: 16px;\n  text-align: center;\n  font-size: 14px;\n  line-height: 14px;\n"]);return Pe=function(){return e},e}function Re(){var e=Object(u.a)(["\n  ","\n\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n"]);return Re=function(){return e},e}function Be(){var e=Object(u.a)(["\n  ","\n\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n"]);return Be=function(){return e},e}function Ne(){var e=Object(u.a)(["\n  height: 16px;\n  width: 18px;\n  border-radius: 4px;\n  padding: 0;\n  padding-bottom: 1px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid #999;\n  background-color: #999;\n  cursor: pointer;\n  outline: none;\n  line-height: 12px;\n\n  :disabled {\n    background-color: #ddd;\n  }\n"]);return Ne=function(){return e},e}function Me(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n"]);return Me=function(){return e},e}var De=function(e){var n=e.value,t=e.setValue,r=e.disablePlus;return a.a.createElement(Se,null,a.a.createElement(Ge,{disabled:0===n,onClick:function(){return t(n-1)}},"-"),a.a.createElement(Te,null,n),a.a.createElement(Le,{disabled:r,onClick:function(){return t(n+1)}},"+"))},Se=m.b.div(Me()),Ue=Object(m.a)(Ne()),Ge=m.b.button(Be(),Ue),Le=m.b.button(Re(),Ue),Te=m.b.div(Pe());function Ye(){var e=Object(u.a)(["\n  position: relative;\n  top: 4px;\n  height: 16px;\n  z-index: 1;\n"]);return Ye=function(){return e},e}function ze(){var e=Object(u.a)(["\n  font-size: 8px;\n\n  color: #999;\n\n  .era-on {\n    color: black;\n  }\n"]);return ze=function(){return e},e}function Qe(){var e=Object(u.a)(["\n  height: 3px;\n  width: 3px;\n  border-radius: 3px;\n  margin: 0 3px;\n  background-color: black;\n"]);return Qe=function(){return e},e}function He(){var e=Object(u.a)(["\n  font-size: 20px;\n  display: flex;\n"]);return He=function(){return e},e}function Fe(){var e=Object(u.a)(["\n  padding-top: 16px;\n  padding-bottom: 2px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n\n  .dollar {\n    font-size: 12px;\n    vertical-align: super;\n  }\n"]);return Fe=function(){return e},e}function Ve(){var e=Object(u.a)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n\n  svg {\n    transform: scale(1,-1);\n  }\n"]);return Ve=function(){return e},e}function Ze(){var e=Object(u.a)(["\n  height: 88px;\n  width: 88px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n"]);return Ze=function(){return e},e}var qe=function(e){var n=e.resourceType,t=e.era,r=e.inStock,i=e.restockRates,c=e.inCart,o=e.setInCart,u=e.showIncrementor,l=e.disablePlus,s="uranium"===n?12:8,d="uranium"===n?12:24,m=r/d,f=(r-c)/d,p=-Math.PI/4,g=5*Math.PI/4,b=p+m*(g-p),h=p+f*(g-p),v=function(e,n){var t=.75*Math.cos(p),r=.75*Math.sin(p),i=1*Math.cos(p),c=1*Math.sin(p),o=1*Math.cos(e),u=1*Math.sin(e),l=.75*Math.cos(e),s=.75*Math.sin(e),d=+(e-p>Math.PI);return a.a.createElement("path",{fill:n,d:"\n          M ".concat(t," ").concat(r,"\n          L ").concat(i," ").concat(c,"\n          A ").concat(1," ").concat(1," 0 ").concat(d," 1 ").concat(o," ").concat(u,"\n          L ").concat(l," ").concat(s,"\n          A ").concat(.75," ").concat(.75," 0 ").concat(d," 0 ").concat(t," ").concat(r,"\n        ")})},E=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=.75*Math.cos(n),i=.75*Math.sin(n),c=t?.925:1,o=c*Math.cos(n),u=c*Math.sin(n);return a.a.createElement("path",{key:e,d:"M".concat(r," ").concat(i," L ").concat(o," ").concat(u),stroke:"black",strokeWidth:t?.01:.05})},O=r-c;return a.a.createElement(We,null,a.a.createElement(Ke,null,a.a.createElement(xe,{type:n.toUpperCase()}),a.a.createElement($e,null),a.a.createElement(Je,null,O>0?a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"dollar"},"$"),Ae(O,n)):a.a.createElement(a.a.Fragment,null,"--"))),a.a.createElement(_e,null,i.reduce((function(e,n,r){return e.push(a.a.createElement("span",{key:r,className:r+1===t?"era-on":"era-off"},"+",n)),r<2&&e.push(a.a.createElement("span",{key:"".concat(r,"s")}," / ")),e}),[])),a.a.createElement(en,null,u&&a.a.createElement(De,{value:c,setValue:o,disablePlus:l})),a.a.createElement(Xe,null,a.a.createElement("svg",{width:"100%",height:"100%",viewBox:"-1 -1 2 2"},v(g,"#bbb"),v(b,function(e){var n=F[e];return H()(n).lighten(.5).hex()}(n.toUpperCase())),v(h,F[n.toUpperCase()]),Array(s).fill(!0).reduce((function(e,t,r){var a=(g-p)/s,i=p+a*r;return r>0&&e.push(E("".concat(r,"_0"),i)),"uranium"!==n&&(e.push(E("".concat(r,"_1"),i+a/3,!0)),e.push(E("".concat(r,"_2"),i+2*a/3,!0))),e}),[]))))},We=m.b.div(Ze()),Xe=m.b.div(Ve()),Ke=m.b.div(Fe()),Je=m.b.div(He()),$e=m.b.div(Qe()),_e=m.b.div(ze()),en=m.b.div(Ye()),nn=function(e){var n=G().state,t=re();return!!t&&(n.auction&&e===N.BID_ON_PLANT?n.auction.active===t.username:n.info.activeUser===t.username&&e===n.info.actionType)};function tn(){var e=Object(u.a)(["\n  query GetPlants {\n    fetchPlants {\n      id\n      rank\n      resourceType\n      resourceBurn\n      numCities\n    }\n  }\n"]);return tn=function(){return e},e}var rn=j()(tn()),an=a.a.createContext((function(){return null})),cn=function(e){var n=e.children,t=Object(o.useQuery)(rn).data,r=a.a.useMemo((function(){return t&&t.fetchPlants?t.fetchPlants.reduce((function(e,n){return e[n.id]=n,e}),{}):{}}),[t]);return t?a.a.createElement(an.Provider,{value:function(e){return r[e]||null}},n):null},on=function(){return a.a.useContext(an)};function un(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 24px 12px;\n  background-color: #ddd;\n  border-right: 1px solid black;\n"]);return un=function(){return e},e}var ln=function(){var e=G(),n=e.state,t=e.restockRates,r=a.a.useContext(fe).resourceCart,i=re(),c=nn(N.BUY_RESOURCES),o=on(),u=function(e){return[t.era1,t.era2,t.era3].map((function(n){return n[e]}))};return a.a.createElement(sn,null,["coal","oil","trash","uranium"].map((function(e){return a.a.createElement(qe,{key:e,resourceType:e,era:n.info.era,inStock:n.resourceMarket[e],restockRates:u(e),inCart:r.resources[e],setInCart:r.setResource(e),showIncrementor:c&&Ce(e,i,o),disablePlus:!ke(e,i,r.resources,n.resourceMarket,o)})})))},sn=m.b.div(un()),dn=t(540);function mn(){var e=Object(u.a)(["\n  display: ",";\n  flex-direction: column;\n  height: ","px;\n  justify-content: center;\n  align-items: center;\n\n  > div {\n    display: flex;\n    height: ","px;\n    justify-content: center;\n\n    > div {\n      height: ","px;\n      display: flex;\n      align-items: center;\n    }\n  }\n"]);return mn=function(){return e},e}function fn(){var e=Object(u.a)(["\n  display: flex;\n  height: ","px;\n  width: ","px;\n  border: 1px solid black;\n  background-color: ",";\n  ","\n  border-radius: ","px;\n  user-select: none;\n  position: relative;\n\n  > div {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 0 ","px;\n    width: ","px;\n  }\n\n  > div:first-child {\n    width: ","px;\n  }\n"]);return fn=function(){return e},e}var pn=function(e){var n=Object(o.useQuery)(te).data,t=n&&n.getCurrentUser&&n.getCurrentUser.we,r=e.rank>9?e.rank:("0"+e.rank).slice(-2),i=e.resourceType===D.HYBRID?a.a.createElement(bn,Object.assign({},e,{we:t}),Array(e.resourceBurn).fill(!0).map((function(n,t){return a.a.createElement("div",{key:t},a.a.createElement("div",null,a.a.createElement(xe,{type:e.resourceType})))}))):a.a.createElement(bn,Object.assign({},e,{we:t}),a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement(xe,{type:e.resourceType}))),e.resourceBurn>1&&a.a.createElement("div",null,Array(e.resourceBurn-1).fill(!0).map((function(n,t){return a.a.createElement("div",{key:t},a.a.createElement(xe,{type:e.resourceType}))}))));return a.a.createElement(gn,e,a.a.createElement("div",null,a.a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 1 1"},a.a.createElement("text",{x:.5,y:.58,textAnchor:"middle",alignmentBaseline:"middle",dominantBaseline:"middle",fontSize:.86,fill:"none",strokeWidth:.03,fontWeight:600,stroke:"black"},r))),a.a.createElement("div",null,i),a.a.createElement("div",null,a.a.createElement(T,{color:"black",empty:!0,height:.6*e.height,number:e.numCities,strokeWidth:.5})))},gn=m.b.div(fn(),(function(e){return e.height}),(function(e){return 3*e.height}),(function(e){var n=e.resourceType;return F[n]}),(function(e){return e.resourceType===D.HYBRID?"\n    background-image: linear-gradient(".concat(F[D.COAL]," 50%, ").concat(F[D.OIL]," 50%);\n  "):""}),(function(e){return.05*e.height}),(function(e){return.06*e.height}),(function(e){return.3*e.height*3}),(function(e){return.4*e.height*3})),bn=m.b.div(mn(),(function(e){var n=e.we;return e.resourceType!==D.WIND||n?"flex":"none"}),(function(e){return.9*e.height}),(function(e){return.4*e.height*(e.resourceType===D.HYBRID?.8:1)}),(function(e){return.4*e.height}));function hn(){var e=Object(u.a)(["\n    height: ","px;\n    width: ","px;\n    border: 1px solid black;\n    border-radius: 3px;\n"]);return hn=function(){return e},e}function vn(){var e=Object(u.a)(["\n    :hover {\n      border: 1px solid black;\n      cursor: pointer;\n    }\n  "]);return vn=function(){return e},e}function En(){var e=Object(u.a)(["\n  margin-bottom: 2px;\n  opacity: ",";\n  border: 1px solid #eee;\n  border-radius: 3px;\n\n  ","\n"]);return En=function(){return e},e}function On(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-left:\n"]);return On=function(){return e},e}function xn(){var e=Object(u.a)(["\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  background-color: #ddd;\n  padding-top: 72px;\n  padding-bottom: 24px;\n"]);return xn=function(){return e},e}var yn=function(e){var n=e.plants,t=e.isAvailable,r=void 0===t?function(){return!0}:t,i=e.hoverable,c=void 0!==i&&i,o=e.handlePlantClick,u=void 0===o?function(){return function(){return null}}:o,l=e.emptyPlantIds,s=void 0===l?[]:l;return a.a.createElement(jn,null,a.a.createElement(An,null,n.map((function(e,n){return a.a.createElement(In,{available:r(e,n),hoverable:c,key:e.id,onClick:u(e,n)},s.includes(e.id)?a.a.createElement(Cn,{height:36}):a.a.createElement(pn,Object.assign({},e,{height:36})))}))))},jn=m.b.div(xn()),An=m.b.div(On()),In=m.b.div(En(),(function(e){return e.available?"1":"0.5"}),(function(e){var n=e.available,t=e.hoverable;return n&&t?Object(m.a)(vn()):""})),Cn=m.b.div(hn(),(function(e){return e.height}),(function(e){return 3*e.height})),wn=function(){var e=G(),n=e.state,t=n.plantMarket,r=n.info,i=n.auction,c=e.map,o=a.a.useContext(fe).plantCart,u=on(),l=nn(N.PUT_UP_PLANT),s=function(e,n){return"China"===c.name||3===r.era||("Northern Europe"===c.name&&7===e.rank&&e.resourceType===D.WIND||t.length-n<5)};return a.a.createElement(yn,{plants:t.slice().reverse().map(u).sort((function(e,n){return n.rank-e.rank})),isAvailable:s,hoverable:l,handlePlantClick:function(e,n){return function(){l&&s(e,n)&&(o.selectedPlant&&e.id===o.selectedPlant.id?o.setSelectedPlant(null):o.setSelectedPlant(e))}},emptyPlantIds:i&&i.plantId?[i.plantId]:[]})};function kn(){var e=Object(u.a)(["\n  flex: 1;\n  background-color: #ddd;\n  width: 160px;\n  height: calc(100vh - 208px); // TODO: tied to height of action panel\n  overflow-y: auto;\n\n  .item {\n    font-size: 10px;\n    padding: 8px 4px !important;\n  }\n\n  > div {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n  }\n\n  .ui.attached.tabular.menu {\n    background: #ddd;\n    position: fixed;\n    z-index: 1;\n  }\n"]);return kn=function(){return e},e}var Pn=function(){var e=G(),n=e.state,t=n.deckCount,r=n.discardedPlants,i=n.era3Plants,c=n.possibleDeck,o=(n.playerOrder,e.map),u=on(),l=[{menuItem:"Market",render:function(){return a.a.createElement(wn,null)}}];return c.length&&l.push({menuItem:"China"===o.name?"Deck":"Deck (".concat(t,")"),render:function(){return a.a.createElement(yn,{plants:c.map(u).sort((function(e,n){return e.rank-n.rank}))})}}),i.length&&l.push({menuItem:"Era 3",render:function(){return a.a.createElement(yn,{plants:i.map(u).sort((function(e,n){return e.rank-n.rank}))})}}),r.length&&l.push({menuItem:"Discard",render:function(){return a.a.createElement(yn,{plants:r.map(u).sort((function(e,n){return e.rank-n.rank}))})}}),a.a.createElement(Rn,null,a.a.createElement(dn.a,{panes:l}))},Rn=m.b.div(kn());function Bn(){var e=Object(u.a)(["\n    > div:first-child {\n      text-decoration: line-through;\n    }\n  "]);return Bn=function(){return e},e}function Nn(){var e=Object(u.a)(["\n  padding: 4px;\n\n  ","\n\n  > div:nth-child(2) {\n    color: red;\n  }\n\n  > div {\n    margin-bottom: 4px;\n    height: 18px;\n    display: flex;\n  }\n\n  .house-icon {\n    height: 16px;\n    margin-left: 4px;\n  }\n"]);return Nn=function(){return e},e}function Mn(){var e=Object(u.a)(["\n  padding: 4px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: flex;\n  margin-bottom: 4px;\n\n  > span:nth-child(2) {\n    margin-left: 4px;\n  }\n"]);return Mn=function(){return e},e}function Dn(){var e=Object(u.a)(["\n  height: 32px;\n  width: 96px;\n  border: 1px solid black;\n  border-radius: 2px;\n"]);return Dn=function(){return e},e}function Sn(){var e=Object(u.a)(["\n  border-",": 1px solid black;\n  padding: 2px;\n  justify-self: flex-end;\n  display: flex;\n  flex-direction: ",";\n  flex-wrap: wrap;\n"]);return Sn=function(){return e},e}function Un(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: ",";\n  align-items: center;\n  flex: 1;\n"]);return Un=function(){return e},e}function Gn(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return Gn=function(){return e},e}function Ln(){var e=Object(u.a)(["\n  flex: 1;\n  display: flex;\n  flex-direction: ",";\n"]);return Ln=function(){return e},e}function Tn(){var e=Object(u.a)(["\n  height: 28px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  \n  .resource-icon {\n    height: 16px;\n    width: 16px;\n    margin-left: 2px;\n    margin-right: 2px;\n    display: flex;\n  }\n"]);return Tn=function(){return e},e}function Yn(){var e=Object(u.a)(["\n    border: 2px solid black;\n"]);return Yn=function(){return e},e}function zn(){var e=Object(u.a)(["\n    :hover {\n      border: 2px solid black;\n      cursor: pointer;\n    }\n  "]);return zn=function(){return e},e}function Qn(){var e=Object(u.a)(["\n  border: 2px solid #ddd;\n  border-radius: 4px;\n\n  ","\n\n  ","\n"]);return Qn=function(){return e},e}function Hn(){var e=Object(u.a)(["\n  background-color: ",";\n  height: 32px;\n  position: absolute;\n  bottom: calc(100% + 4px);\n  left: -4px;\n  width: calc(100% + 8px);\n  display: flex;\n  align-items: center;\n  padding-left: 8px;\n"]);return Hn=function(){return e},e}function Fn(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: ","px;\n"]);return Fn=function(){return e},e}function Vn(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  width: ","px;\n  height: 208px;\n  z-index: 1001;\n  background-color: #ddd;\n  border: 4px solid ",";\n  position: relative;\n"]);return Vn=function(){return e},e}var Zn=function(e){var n=e.player,t=re(),r=t&&t.username===n.username,i=G().state,c=i.plantPhaseEvents,o=i.playerOrder,u=i.cityList,l=i.info.phase,s=nn(N.POWER_UP),d=nn(N.DISCARD_PLANT),m=a.a.useContext(fe),f=m.discardCart,p=m.powerCart,g=m.cityCart,b=on(),h=c.find((function(e){return e.username===n.username})),v=2===o.length,E=n.plantIds?n.plantIds.map(b).sort((function(e,n){return e.rank-n.rank})):[],O=Array(v?4:3).fill(!0).map((function(e,n){return E[n]||null})),x=a.a.useMemo((function(){return u.filter((function(e){return e.occupants.some((function(e){return e===n.username}))})).length}),[u]),y=Object.keys(n.resources).filter((function(e){return n.resources[e]>0})).map((function(e){return{type:e,owned:n.resources[e]}})),j=(s||d)&&r,A=function(e){return s?p.plants.some((function(n){return n.id===e.id})):!!d&&(f.selectedPlant&&f.selectedPlant.id===e.id)},I=n.money,C=x;return r&&(I-=g.cost,C+=g.cityIds.length),a.a.createElement(qn,{color:n.color,is2P:v},l===B.PLANT&&h&&a.a.createElement(Xn,{color:n.color},function(e,n){return e.plantId?"Bought the ".concat(n(e.plantId).rank," for $").concat(e.cost):"Passed"}(h,b)),a.a.createElement(rt,null,"".concat(n.username).concat(r?" (you)":"")),a.a.createElement(Wn,{is2P:v},a.a.createElement(at,{struck:I!==n.money},a.a.createElement("div",null,"$",n.money),a.a.createElement("div",null,I!==n.money?"".concat(I<0?"-":"","$").concat(Math.abs(I)):"")),a.a.createElement(at,{struck:C!==x},a.a.createElement("div",null,a.a.createElement("span",null,x),a.a.createElement("span",{className:"house-icon"},a.a.createElement(T,{color:Z[n.color]}))),a.a.createElement("div",null,C!==x?C:""))),a.a.createElement($n,{is2P:v},a.a.createElement(_n,null,a.a.createElement(nt,{is2P:v},O.map((function(e,n){return e?a.a.createElement(Kn,{key:e.rank,selectable:j,onClick:function(){return function(e){s&&r?p.togglePlant(e):d&&r&&f.togglePlant(e)}(e)},isSelected:A(e)},a.a.createElement(pn,Object.assign({height:32},e))):a.a.createElement(Kn,{key:"EMPTY".concat(n),selectable:!1,isSelected:!1},a.a.createElement(tt,null))})))),a.a.createElement(et,{is2P:v},y.map((function(e){var n=e.owned,t=e.type;return a.a.createElement(Jn,{key:t},a.a.createElement("div",{className:"resource-icon"},a.a.createElement(xe,{type:t.toUpperCase(),withColor:!0})),a.a.createElement("div",null,n))})))))},qn=m.b.div(Vn(),(function(e){return e.is2P?212:160}),(function(e){var n=e.color;return Z[n]})),Wn=m.b.div(Fn(),(function(e){return e.is2P?0:4})),Xn=m.b.div(Hn(),(function(e){var n=e.color;return Z[n]})),Kn=m.b.div(Qn(),(function(e){return e.selectable?Object(m.a)(zn()):""}),(function(e){return e.isSelected?Object(m.a)(Yn()):""})),Jn=m.b.div(Tn()),$n=m.b.div(Ln(),(function(e){return e.is2P?"column":"row"})),_n=m.b.div(Gn()),et=m.b.div(Un(),(function(e){return e.is2P?"row":"column"})),nt=m.b.div(Sn(),(function(e){return e.is2P?"bottom":"right"}),(function(e){return e.is2P?"row":"column"})),tt=m.b.div(Dn()),rt=m.b.div(Mn()),at=m.b.div(Nn(),(function(e){return e.struck?Object(m.a)(Bn()):""})),it=t(523),ct=t(535);function ot(e,n){return Object(o.useMutation)(e,Object(ue.a)({onError:function(e){return l.b.error(e.message)}},n?{onCompleted:n}:{}))}function ut(){var e=Object(u.a)(["\n  mutation PutUpPlant($gameId: ID!, $plantId: String, $bid: Int) {\n    putUpPlant(gameId: $gameId, plantId: $plantId, bid: $bid) {\n      ...GameState\n    }\n  }\n\n  # Fragments\n  ","\n"]);return ut=function(){return e},e}var lt=j()(ut(),w);function st(){var e=Object(u.a)(["\n  height: 32px;\n  width: 96px;\n  border: 1px solid black;\n  border-radius: 2px;\n"]);return st=function(){return e},e}function dt(){var e=Object(u.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  .heading {\n    padding-top: 24px;\n    height: 68px;\n  }\n\n  .bid {\n    display: flex;\n    justify-content: center;\n    padding-top: 20px;\n    padding-bottom: 4px;\n\n    input {\n      width: 60px;\n    }\n  }\n\n  .pass {\n    display: flex;\n    position: absolute;\n    bottom: 12px;\n  }\n"]);return dt=function(){return e},e}var mt=function(e){var n=e.plantCart,t=n.selectedPlant,r=G(),i=re(),c=ot(lt),o=Object(oe.a)(c,2),u=o[0],l=o[1].loading,s=a.a.useState(!1),d=Object(oe.a)(s,2),m=d[0],f=d[1],p=a.a.useState(null),g=Object(oe.a)(p,2),b=g[0],h=g[1];a.a.useEffect((function(){h(n.selectedPlant&&n.selectedPlant.rank)}),[n.selectedPlant]);var v=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?null:n.selectedPlant&&n.selectedPlant.id;f(e),u({variables:{gameId:r.id,plantId:t,bid:e?null:Math.ceil(b)}})};return a.a.createElement(ft,null,a.a.createElement("div",{className:"heading"},"Choose a power plant"),t?a.a.createElement(pn,Object.assign({},t,{height:32})):a.a.createElement(pt,null),a.a.createElement("div",{className:"bid"},t&&a.a.createElement(a.a.Fragment,null,a.a.createElement(it.a,{primary:!0,disabled:b<n.selectedPlant.rank||b>i.money||l,loading:l&&!m,onClick:function(){return v()}},"Bid"),a.a.createElement(ct.a,{type:"number",onChange:function(e){var n=Number(e.target.value);h(n)},value:b||"",min:n.selectedPlant.rank,step:1}))),r.state.info.turn>1&&a.a.createElement("div",{className:"pass"},a.a.createElement(it.a,{secondary:!0,onClick:function(){return v(!0)},disabled:l,loading:l&&m},"Pass")))},ft=m.b.div(dt()),pt=m.b.div(st());function gt(){var e=Object(u.a)(["\n  mutation BidOnPlant($gameId: ID!, $bid: Int) {\n    bidOnPlant(gameId: $gameId, bid: $bid) {\n      ...GameState\n    }\n  }\n\n  # Fragments\n  ","\n"]);return gt=function(){return e},e}var bt=j()(gt(),w),ht=t(536);function vt(){var e=Object(u.a)(["\n  div:first-child {\n    margin-bottom: 4px;\n  }\n\n  input {\n    width: 64px;\n  }\n\n  display: flex;\n  flex-direction: column;\n\n  button {\n    width: 64px !important;\n    padding-left: 0 !important;\n    padding-right: 0 !important;\n  }\n"]);return vt=function(){return e},e}function Et(){var e=Object(u.a)(["\n  position: absolute;\n  top: calc(50% - 14px);\n  left: calc(50% - 42px);\n  transform: rotate(-90deg);\n"]);return Et=function(){return e},e}function Ot(){var e=Object(u.a)(["\n  width: 188px;\n  height: 188px;\n  position: relative;\n"]);return Ot=function(){return e},e}function xt(){var e=Object(u.a)(["\n  height: 100%;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: #ddd;\n  padding: 12px;\n"]);return xt=function(){return e},e}var yt=function(){var e=G(),n=e.id,t=e.state,r=t.auction,i=t.playerOrder,c=t.plantPhaseEvents,o=re(),u=nn(N.BID_ON_PLANT),l=on(),s=ot(bt),d=Object(oe.a)(s,2),m=d[0],f=d[1].loading,p=a.a.useState(!1),g=Object(oe.a)(p,2),b=g[0],h=g[1],v=a.a.useState(r.bid+1),E=Object(oe.a)(v,2),O=E[0],x=E[1],y=a.a.useState(!1),j=Object(oe.a)(y,2),A=j[0],I=j[1],C=!o||!u||O<=r.bid||O>o.money||f;a.a.useEffect((function(){r.bid>=O&&(x(r.bid+1),I(!1))}),[r.bid]),a.a.useEffect((function(){!C&&A&&r.bid<O&&m({variables:{gameId:n,bid:r.bid+1}})}),[r.bid,C,A]);var w=(o&&i.find((function(e){return e.username===o.username}))||{}).clockwiseOrder,k=void 0===w?0:w,P=function(e){return(e.clockwiseOrder+i.length-k)%i.length},R=i.filter((function(e){return(c||[]).every((function(n){return n.username!==e.username}))})).filter((function(e){return(r.passed||[]).every((function(n){return n!==e.username}))})).sort((function(e,n){return P(e)-P(n)})),B=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];h(e),m({variables:{gameId:n,bid:e?null:O}})};return a.a.createElement(jt,null,a.a.createElement(At,null,a.a.createElement("svg",{width:"100%",height:"100%",viewBox:"-1 -1 2 2"},R.map((function(e,n){var t=R.length,i=2*Math.PI/t,c=.9,u=i*n,l=c*Math.cos(u-i/2),s=c*Math.sin(u-i/2),d=c*Math.cos(u+i/2),m=c*Math.sin(u+i/2),f=.918*Math.cos(u),p=.918*Math.sin(u),g=.63*Math.cos(u),b=.63*Math.sin(u),h=180*u/Math.PI+90,v=e.username,E="".concat(v.slice(0,12)).concat(v.length>12?"...":""),O=r.active===v,x=r.leader===v;return a.a.createElement(a.a.Fragment,{key:e.username},a.a.createElement("path",{fill:Z[e.color],d:"\n            M 0 0\n            L ".concat(l," ").concat(s,"\n            A ").concat(c," ").concat(c," 0 0 1 ").concat(d," ").concat(m,"\n            Z\n          ")}),(!o||n>0||R[0].username!==o.username)&&a.a.createElement("g",{transform:"translate(".concat(f,", ").concat(p,") rotate(").concat(h,")")},a.a.createElement("text",{x:0,y:0,textAnchor:"middle",style:{fontSize:"0.125"}},E)),x&&a.a.createElement("text",{x:g,y:b,textAnchor:"middle",alignmentBaseline:"middle",style:{fontSize:.25}},r.bid),O&&a.a.createElement("text",{x:g,y:b,textAnchor:"middle",alignmentBaseline:"middle",style:{fontSize:.25}},"!"))}))),a.a.createElement(It,null,a.a.createElement(pn,Object.assign({height:28},l(r.plantId))))),o&&R[0].username===o.username&&a.a.createElement(Ct,null,a.a.createElement(ht.a,{label:"Autobid",checked:A,onClick:function(){return I(!A)}}),a.a.createElement("div",null,a.a.createElement(ct.a,{type:"number",step:1,min:r.bid+1,value:O||"",onChange:function(e){var n=Number(e.target.value);x(n||0)}})),a.a.createElement(it.a.Group,{vertical:!0},a.a.createElement(it.a,{primary:!0,disabled:C,loading:f&&!b,onClick:function(){return B()}},"Bid"),a.a.createElement(it.a,{secondary:!0,disabled:!o||!u||f,loading:f&&b,onClick:function(){return B(!0)}},"Pass"))))},jt=m.b.div(xt()),At=m.b.div(Ot()),It=m.b.div(Et()),Ct=m.b.div(vt());function wt(){var e=Object(u.a)(["\n  mutation BuyResources($gameId: ID!, $resources: ResourcesInput!, $cost: Int!) {\n    buyResources(gameId: $gameId, resources: $resources, cost: $cost) {\n      ...GameState\n    }\n  }\n\n  # Fragments\n  ","\n"]);return wt=function(){return e},e}var kt=j()(wt(),w);function Pt(){var e=Object(u.a)(["\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n  padding: 12px 0;\n"]);return Pt=function(){return e},e}var Rt=function(e){var n=e.resourceCart,t=G(),r=t.state.resourceMarket,i=t.id,c=ot(kt),o=Object(oe.a)(c,2),u=o[0],l=o[1].loading,s=Ie(r,n.resources);return a.a.createElement(Bt,null,a.a.createElement("div",null,"Purchase resources"),a.a.createElement("div",{className:"btn-container"},a.a.createElement(it.a,{primary:!!s,secondary:!s,disabled:l,loading:l,onClick:function(){u({variables:{gameId:i,resources:n.resources,cost:s}})}},s?"Buy for $".concat(s):"Pass")))},Bt=m.b.div(Pt());function Nt(){var e=Object(u.a)(["\n  mutation BuyCities($gameId: ID!, $cityIds: [String!]!, $cost: Int!) {\n    buyCities(gameId: $gameId, cityIds: $cityIds, cost: $cost) {\n      ...GameState\n    }\n  }\n\n  # Fragments\n  ","\n"]);return Nt=function(){return e},e}var Mt=j()(Nt(),w);function Dt(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n"]);return Dt=function(){return e},e}function St(){var e=Object(u.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  width: 100%;\n  height: calc(100% - 84px);\n\n  > div {\n    height: 16px;\n    font-size: 14px;\n    margin-bottom: 4px;\n  }\n"]);return St=function(){return e},e}function Ut(){var e=Object(u.a)(["\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n  padding: 12px;\n"]);return Ut=function(){return e},e}var Gt=function(e){var n=e.cityCart,t=G(),r=t.map,i=t.id,c=re(),o=nn(N.BUY_CITIES),u=ot(Mt,n.clearCart),l=Object(oe.a)(u,2),s=l[0],d=l[1].loading,m=r.cities||[],f=a.a.useMemo((function(){return m.reduce((function(e,n){return e[n.id]=n,e}),{})}),[m]),p=n.cityIds.map((function(e){return f[e].name})),g=null===n.cost?"--":"$".concat(n.cost),b=p.length?"Buy for ".concat(g):"Pass on cities";return a.a.createElement(Lt,null,a.a.createElement("div",null,"Purchase cities"),a.a.createElement(Tt,null,p.map((function(e){return a.a.createElement("div",{key:e},e)}))),a.a.createElement(Yt,null,a.a.createElement(it.a,{primary:p.length>0,secondary:0===p.length,onClick:function(){s({variables:{gameId:i,cityIds:n.cityIds,cost:n.cost}})},disabled:!c||!o||n.cost>c.money||d,loading:d},b)))},Lt=m.b.div(Ut()),Tt=m.b.div(St()),Yt=m.b.div(Dt());function zt(){var e=Object(u.a)(["\n  query GetRevenues {\n    getRevenues\n  }\n"]);return zt=function(){return e},e}var Qt=j()(zt());function Ht(){var e=Object(u.a)(["\n  mutation PowerUp($gameId: ID!, $plantIds: [String!]!, $hybridChoice: HybridChoiceInput) {\n    powerUp(gameId: $gameId, plantIds: $plantIds, hybridChoice: $hybridChoice) {\n      ...GameState\n    }\n  }\n\n  # Fragments\n  ","\n"]);return Ht=function(){return e},e}var Ft=j()(Ht(),w);function Vt(){var e=Object(u.a)(["\n  opacity: ",";\n  cursor: pointer;\n  margin-left: 4px;\n  width: 30px;\n  height: 48px;\n  border: 1px solid black;\n  border-radius: 2px;\n  font-size: 14px;\n\n  > div {\n    display: flex;\n    align-items: center;\n    height: 24px;\n  }\n"]);return Vt=function(){return e},e}function Zt(){var e=Object(u.a)(["\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n  padding: 12px;\n\n  .power-info {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 18px;\n  }\n\n  .hybrid-choices {\n    display: flex;\n    justify-content: center;\n\n    > div:first-child {\n      margin-left: 0;\n    }\n\n    .resource-icon {\n      height: 16px;\n      width: 16px;\n      margin: 0 2px;\n    }\n  }\n"]);return Zt=function(){return e},e}var qt,Wt=function(e){var n=e.powerCart,t=G(),r=t.state.cityList,i=t.id,c=re(),u=Object(o.useQuery)(Qt).data,l=ot(Ft),s=Object(oe.a)(l,2),d=s[0],m=s[1].loading,f=function(e,n,t){var r=e.reduce((function(e,n){return e+n.numCities}),0),a=n.filter((function(e){return e.occupants.some((function(e){return e===t}))})).length;return Math.min(r,a)}(n.plants,r,c.username),p=f?u?u.getRevenues[f]:null:10,g=function(e,n){var t=e.reduce((function(e,n){var t=n.resourceType,r=n.resourceBurn;return t!==D.WIND&&(e[t]=e[t]||0,e[t]+=r),e}),{}),r=Object(ue.a)({},n);return[D.COAL,D.OIL,D.TRASH,D.URANIUM,D.HYBRID].every((function(e){var n=t[e]||0;if(e===D.HYBRID)return n<=r.coal+r.oil;var a=e.toLowerCase();return!(n>r[a])&&(r[a]-=n,!0)}))}(n.plants,c.resources),b=g?function(e,n){var t=n.coal,r=n.oil,a=0;return e.forEach((function(e){e.resourceType===D.COAL&&(t-=e.resourceBurn),e.resourceType===D.OIL&&(r-=e.resourceBurn),e.resourceType===D.HYBRID&&(a+=e.resourceBurn)})),Array(a+1).fill(!0).map((function(e,n){return{coal:a-n,oil:n}})).filter((function(e){return e.coal<=t&&e.oil<=r}))}(n.plants,c.resources):[],h=a.a.useState(0),v=Object(oe.a)(h,2),E=v[0],O=v[1];a.a.useEffect((function(){b.length>0&&E>=b.length&&O(b.length-1)}));return a.a.createElement(Xt,null,a.a.createElement("div",{className:"heading"},"Choose plants to power"),a.a.createElement("div",{className:"power-info"},a.a.createElement(T,{color:"black",empty:!0,height:40,number:f,strokeWidth:.5}),a.a.createElement(z,null),a.a.createElement("div",null,"$",p||"...")),a.a.createElement("div",{className:"hybrid-choices"},b.length>1&&b.map((function(e,n){return a.a.createElement(Kt,{key:e.oil,isSelected:n===E,onClick:function(){return O(n)}},a.a.createElement("div",null,a.a.createElement("div",{className:"resource-icon"},a.a.createElement(xe,{withColor:!0,type:D.COAL})),a.a.createElement("div",null,e.coal)),a.a.createElement("div",null,a.a.createElement("div",{className:"resource-icon"},a.a.createElement(xe,{withColor:!0,type:D.OIL})),a.a.createElement("div",null,e.oil)))}))),a.a.createElement("div",{className:"btn-container"},a.a.createElement(it.a,{primary:!0,disabled:!g||m,loading:m,onClick:function(){var e=b.length>1&&b[E]||null;d({variables:{gameId:i,plantIds:n.plants.map((function(e){return e.id})),hybridChoice:e}})}},"Power up!")))},Xt=m.b.div(Zt()),Kt=m.b.div(Vt(),(function(e){return e.isSelected?1:.3}));function Jt(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 40px;\n  background-color: #ddd;\n  height: calc(100% - 16px);\n  width: calc(100% - 16px);\n  text-align: center;\n"]);return Jt=function(){return e},e}function $t(){var e=Object(u.a)(["\n  height: 100%;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: ",";\n"]);return $t=function(){return e},e}var _t=(qt={},Object(ae.a)(qt,N.PUT_UP_PLANT,"is choosing a plant"),Object(ae.a)(qt,N.BID_ON_PLANT,""),Object(ae.a)(qt,N.DISCARD_PLANT,"is discarding a plant"),Object(ae.a)(qt,N.BUY_RESOURCES,"is buying resources"),Object(ae.a)(qt,N.BUY_CITIES,"is buying cities"),Object(ae.a)(qt,N.POWER_UP,"is powering up"),qt),er=function(){var e=G().state,n=e.playerOrder,t=e.info,r=n.find((function(e){return e.username===t.activeUser})),i=r.username,c=r.color,o="".concat(i," ").concat(_t[t.actionType]);return a.a.createElement(nr,{color:c},a.a.createElement(tr,null,o))},nr=m.b.div($t(),(function(e){var n=e.color;return Z[n]})),tr=m.b.div(Jt());function rr(){var e=Object(u.a)(["\n  mutation DiscardPlant($gameId: ID!, $plantId: String!, $hybridChoice: HybridChoiceInput) {\n    discardPlant(gameId: $gameId, plantId: $plantId, hybridChoice: $hybridChoice) {\n      ...GameState\n    }\n  }\n\n  # Fragments\n  ","\n"]);return rr=function(){return e},e}var ar=j()(rr(),w);function ir(){var e=Object(u.a)(["\n  height: 28px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  color: red;\n  \n  .resource-icon {\n    height: 16px;\n    width: 16px;\n    margin-left: 2px;\n    margin-right: 2px;\n  }\n"]);return ir=function(){return e},e}function cr(){var e=Object(u.a)(["\n  height: 32px;\n  width: 96px;\n  border: 1px solid black;\n  border-radius: 2px;\n"]);return cr=function(){return e},e}function or(){var e=Object(u.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  .heading {\n    padding-top: 24px;\n    height: 60px;\n  }\n\n  .resource-loss {\n    height: 50px;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n  }\n\n  .btn-container {\n    position: absolute;\n    bottom: 12px;\n  }\n\n"]);return or=function(){return e},e}var ur=function(e){var n=e.discardCart,t=G(),r=re(),i=on(),c=ot(ar),o=Object(oe.a)(c,2),u=o[0],l=o[1].loading,s=n.selectedPlant,d=s?function(e,n,t){var r=e.plantIds.filter((function(e){return e!==n.id})).map(t),a=we(r),i=Math.max(e.resources.uranium-a.URANIUM,0),c=Math.max(e.resources.trash-a.TRASH,0),o=Math.max(e.resources.coal-a.COAL,0),u=Math.max(e.resources.oil-a.OIL,0);return[{type:D.COAL,amount:o},{type:D.OIL,amount:u},{type:D.TRASH,amount:c},{type:D.URANIUM,amount:i}].filter((function(e){return e.amount>0}))}(r,s,i):[];return a.a.createElement(lr,null,a.a.createElement("div",{className:"heading"},"Discard a power plant"),s?a.a.createElement(pn,Object.assign({},s,{height:32})):a.a.createElement(sr,null),a.a.createElement("div",{className:"resource-loss"},d.map((function(e){return a.a.createElement(dr,{key:e.type},a.a.createElement("div",null,"-",e.amount),a.a.createElement("div",{className:"resource-icon"},a.a.createElement(xe,{type:e.type,withColor:!0})))}))),a.a.createElement("div",{className:"btn-container"},a.a.createElement(it.a,{primary:!0,disabled:!r||!s||l,loading:l,onClick:function(){u({variables:{gameId:t.id,plantId:s.id}})}},"Discard")))},lr=m.b.div(or()),sr=m.b.div(cr()),dr=m.b.div(ir());function mr(){var e=Object(u.a)(["\n  height: 208px;\n  width: 100%;\n  background-color: #ddd;\n"]);return mr=function(){return e},e}var fr=function(){var e=G().state,n=e.info.actionType,t=e.isOver,r=nn(n),i=a.a.useContext(fe);return t?a.a.createElement(pr,null):r||n===N.BID_ON_PLANT?n===N.PUT_UP_PLANT?a.a.createElement(pr,null,a.a.createElement(mt,{plantCart:i.plantCart})):n===N.BID_ON_PLANT?a.a.createElement(pr,null,a.a.createElement(yt,null)):n===N.DISCARD_PLANT?a.a.createElement(pr,null,a.a.createElement(ur,{discardCart:i.discardCart})):n===N.BUY_RESOURCES?a.a.createElement(pr,null,a.a.createElement(Rt,{resourceCart:i.resourceCart})):n===N.BUY_CITIES?a.a.createElement(pr,null,a.a.createElement(Gt,{cityCart:i.cityCart})):n===N.POWER_UP?a.a.createElement(pr,null,a.a.createElement(Wt,{powerCart:i.powerCart})):null:a.a.createElement(pr,null,a.a.createElement(er,null))},pr=m.b.div(mr());function gr(){var e=Object(u.a)(["\n  position: absolute;\n  background-color: #ccc;\n  z-index: 9001;\n  left: 0;\n  top: 0;\n  width: 240px;\n  height: 150px;\n  padding: 24px;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n"]);return gr=function(){return e},e}var br=function(e){var n=e.gameId,t=a.a.useState(!1),r=Object(oe.a)(t,2),i=r[0],c=r[1];return i?null:a.a.createElement(hr,null,a.a.createElement("div",null,"You are viewing this game as a spectator."),a.a.createElement("div",null,a.a.createElement(s.b,{to:"/login?gameId=".concat(n)},a.a.createElement(it.a,{primary:!0},"Login")),a.a.createElement(it.a,{onClick:function(){return c(!0)}},"Dismiss")))},hr=m.b.div(gr()),vr=t(86),Er=t(537);function Or(){var e=Object(u.a)(["\n  query GetGameOverData($id: ID!) {\n    getGameOverData(id: $id) {\n      isOver\n      winOrder {\n        username\n        color\n        money\n        won\n        numPowered\n        numCities\n        spendData {\n          PLANT\n          RESOURCE\n          CITY\n          POWER\n        }\n      }\n    }\n  }\n"]);return Or=function(){return e},e}var xr,yr=j()(Or());function jr(){var e=Object(u.a)(["\n  height: 14px;\n"]);return jr=function(){return e},e}function Ar(){var e=Object(u.a)(["\n  margin-left: 8px;\n  font-size: 14px;\n  width: 50px;\n"]);return Ar=function(){return e},e}function Ir(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n"]);return Ir=function(){return e},e}function Cr(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 8px;\n  font-size: 18px;\n"]);return Cr=function(){return e},e}function wr(){var e=Object(u.a)(["\n  border: 4px solid ",";\n  border-radius: 4px;\n  padding: 8px;\n  margin-bottom: 4px;\n  overflow: hidden;\n"]);return wr=function(){return e},e}function kr(){var e=Object(u.a)([""]);return kr=function(){return e},e}function Pr(){var e=Object(u.a)(["\n  padding: 24px 40px;\n"]);return Pr=function(){return e},e}var Rr=(xr={USA:"Game over",Germany:"Guten tag, Funkenschlag",Italy:"Bel gioco",Seattle:"Nice work, Bezos",China:"\u597d\u6e38\u620f"},Object(ae.a)(xr,"Northern Europe","Hyv\xe4 peli"),Object(ae.a)(xr,"France","Bien jou\xe9"),xr),Br=function(e){return e.reduce((function(e,n){return e+n}),0)},Nr=function(e){var n=e.mapName,t=function(){var e=Object(d.h)().gameId;return Object(o.useQuery)(yr,{variables:{id:e}})}(),r=t.loading,i=t.error,c=t.data;if(r||i||!c||!c.getGameOverData)return null;var u=c.getGameOverData.winOrder;return a.a.createElement(Er.a,{size:"small",defaultOpen:!0,trigger:a.a.createElement(it.a,{icon:!0},a.a.createElement(vr.a,{name:"chart line"}))},a.a.createElement(Mr,null,a.a.createElement(Dr,null,Rr[n]||"Game over"),u.map((function(e){return a.a.createElement(Sr,{color:e.color},a.a.createElement(Ur,null,e.won&&a.a.createElement(Tr,null),e.username),a.a.createElement(Gr,null,a.a.createElement(T,{color:"black",empty:!0,height:32,number:e.numPowered,strokeWidth:.2}),a.a.createElement(Lr,null,"$",e.money),"Plants:",a.a.createElement(Lr,null,"$",Br(e.spendData.PLANT)),"Resources:",a.a.createElement(Lr,null,"$",Br(e.spendData.RESOURCE)),"Cities:",a.a.createElement(Lr,null,"$",Br(e.spendData.CITY)),"Earned:",a.a.createElement(Lr,null,"$",Br(e.spendData.POWER))))}))))},Mr=m.b.div(Pr()),Dr=m.b.h2(kr()),Sr=m.b.div(wr(),(function(e){var n=e.color;return Z[n]})),Ur=m.b.div(Cr()),Gr=m.b.div(Ir()),Lr=m.b.span(Ar()),Tr=m.b.img.attrs({src:t(503)})(jr()),Yr=t(301),zr=t(302),Qr=t.n(zr);function Hr(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  font-size: 18px;\n"]);return Hr=function(){return e},e}function Fr(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  align-items: center;\n  height: 312px;\n"]);return Fr=function(){return e},e}function Vr(){var e=Object(u.a)(["\n  position: absolute;\n  display: flex;\n  align-items: center;\n  height: 24px;\n  background-color: #ddd;\n  z-index: 1000;\n  border: 1px solid black;\n\n  > div {\n    height: 100%;\n    padding: 0 8px;\n    border-left: 1px solid black;\n    display: flex;\n    align-items: center;\n\n    svg {\n      margin-left: 2px;\n    }\n  }\n\n  > div:first-child {\n    border-left: none;\n  }\n\n  .trigger {\n    padding: 0;\n\n    button {\n      padding: 0 !important;\n      margin: 0 !important;\n      border-radius: 0 !important;\n      height: 22px;\n      width: 24px;\n    }\n  }\n"]);return Vr=function(){return e},e}var Zr=function(){var e=G(),n=e.state,t=e.era2Start,i=e.gameEnd,c=e.map,u="".concat(n.info.phase[0]).concat(n.info.phase.slice(1).toLowerCase()),l=Object(o.useQuery)(Qt).data,s=l&&l.getRevenues?l.getRevenues.slice(0,-1):[],d=function(){var e=Object(Yr.a)(Qr.a),n=Object(oe.a)(e,1)[0],t=Object(r.useState)(!0),a=Object(oe.a)(t,2),i=a[0],c=a[1],o=G().state.info.actionType,u=nn(o);return Object(r.useEffect)((function(){!i&&u&&n()}),[u,n,i]),{isMuted:i,setMuted:c}}(),m=d.isMuted,f=d.setMuted;return a.a.createElement(qr,null,a.a.createElement("div",null,"Era ",n.info.era),a.a.createElement("div",null,"Turn ",n.info.turn),a.a.createElement("div",null,u," Phase"),a.a.createElement("div",null,"Era 2 start: ",t," ",a.a.createElement(T,{color:"black",height:16,empty:!0})),a.a.createElement("div",null,"Game end: ",i," ",a.a.createElement(T,{color:"black",height:16,empty:!0})),a.a.createElement("div",{className:"trigger"},a.a.createElement(it.a,{onClick:function(){return f(!m)},icon:!0},a.a.createElement(vr.a,{name:m?"mute":"unmute"}))),a.a.createElement("div",{className:"trigger"},a.a.createElement(Er.a,{trigger:a.a.createElement(it.a,{icon:!0},a.a.createElement(vr.a,{name:"dollar"})),size:"small"},a.a.createElement(Er.a.Content,null,a.a.createElement(Wr,null,s.map((function(e,n){return a.a.createElement(Xr,{key:e},a.a.createElement(T,{color:"black",empty:!0,height:40,number:n,strokeWidth:.5}),a.a.createElement(z,null),a.a.createElement("div",null,"$",e))})))))),n.isOver&&a.a.createElement("div",{className:"trigger"},a.a.createElement(Nr,{mapName:c.name})))},qr=m.b.div(Vr()),Wr=m.b.div(Fr()),Xr=m.b.div(Hr());function Kr(){var e=Object(u.a)(["\n  mutation KeepMeOnline {\n    keepMeOnline {\n      id\n    }\n  }\n"]);return Kr=function(){return e},e}var Jr=j()(Kr()),$r=function(){var e=Object(o.useMutation)(Jr),n=Object(oe.a)(e,1)[0];Object(r.useEffect)((function(){var e=setInterval(n,5e3);return function(){return clearInterval(e)}}))};function _r(){var e=Object(u.a)(["\n  subscription GameStateUpdated($gameId: ID!) {\n    gameStateUpdated(gameId: $gameId) {\n      ...GameState\n    }\n  }\n\n  # Fragments\n  ","\n"]);return _r=function(){return e},e}var ea=j()(_r(),w);function na(){var e=Object(u.a)(["\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  display: flex;\n  justify-content: flex-end;\n  z-index: 1000;\n  background-color: white;\n"]);return na=function(){return e},e}function ta(){var e=Object(u.a)(["\n  display: flex;\n  flex: 1;\n  border-bottom: 1px solid black;\n"]);return ta=function(){return e},e}function ra(){var e=Object(u.a)(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n"]);return ra=function(){return e},e}function aa(){var e=Object(u.a)(["\n  height: 100%;\n  flex: 1;\n  position: relative;\n"]);return aa=function(){return e},e}function ia(){var e=Object(u.a)(["\n  height: 100%;\n  display: flex;\n  position: relative;\n"]);return ia=function(){return e},e}var ca=function(){$r();var e=re(),n=G();return function(){var e=Object(d.h)().gameId,n=U(e).subscribeToMore;Object(r.useEffect)((function(){n({document:ea,variables:{gameId:e},updateQuery:function(e,n){var t=n.subscriptionData;return console.log("UPDATING",t),t&&t.data&&t.data.gameStateUpdated?Object(ue.a)(Object(ue.a)({},e),{},{getGame:Object(ue.a)(Object(ue.a)({},e.getGame),{},{state:t.data.gameStateUpdated})}):e}})}),[])}(),n?a.a.createElement(cn,null,a.a.createElement(pe,null,a.a.createElement(oa,null,a.a.createElement(Zr,null),!e&&a.a.createElement(br,{gameId:n.id}),a.a.createElement(ua,null,a.a.createElement(he,null),a.a.createElement(da,null,n.state.playerOrder.map((function(e){return a.a.createElement(Zn,{key:e.username,player:e})})))),a.a.createElement(la,null,a.a.createElement(sa,null,a.a.createElement(ln,null),a.a.createElement(Pn,null)),a.a.createElement(fr,null))))):null},oa=m.b.div(ia()),ua=m.b.div(aa()),la=m.b.div(ra()),sa=m.b.div(ta()),da=m.b.div(na());t(504),t(505),t(506);function ma(){var e=Object(u.a)(["\n  mutation CreateUser($username: String!, $password: String!, $we: Boolean!) {\n    createUser(username: $username, password: $password, we: $we) {\n      id\n    }\n  }\n"]);return ma=function(){return e},e}var fa=j()(ma());function pa(){var e=Object(u.a)(["\n  mutation Login($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      token\n    }\n  }\n"]);return pa=function(){return e},e}var ga=j()(pa()),ba=t(98),ha=t.n(ba),va=function(e){var n=Object(d.f)(),t=new URLSearchParams(Object(d.g)().search).get("gameId");return Object(o.useMutation)(ga,{onError:e,onCompleted:function(r){if(r&&r.login&&r.login.token){ha.a.set("access_token",r.login.token);var a=t?"/game/".concat(t):"/";n.push(a)}else e()}})};function Ea(){var e=Object(u.a)(["\n  font-size: 8px;\n"]);return Ea=function(){return e},e}function Oa(){var e=Object(u.a)(["\n  height: 300px;\n  width: 250px;\n  border: 1px solid black;\n  border-radius: 5px;\n  background-color: #fff;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n  padding-top: 24px;\n\n  .ui.input {\n    margin-bottom: 12px;\n  }\n\n  button {\n    position: absolute !important;\n    bottom: 24px;\n  }\n"]);return Oa=function(){return e},e}function xa(){var e=Object(u.a)(["\n  height: calc(100% - 72px);\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return xa=function(){return e},e}var ya=function(){var e=a.a.useState(""),n=Object(oe.a)(e,2),t=n[0],r=n[1],i=a.a.useState(""),c=Object(oe.a)(i,2),u=c[0],l=c[1],s=a.a.useState(""),d=Object(oe.a)(s,2),m=d[0],f=d[1],p=a.a.useState(!1),g=Object(oe.a)(p,2),b=g[0],h=g[1],v=va((function(){return h(!0)})),E=Object(oe.a)(v,2),O=E[0],x=E[1].loading,y=Object(o.useMutation)(fa,{onError:function(){return h(!0)},onCompleted:function(e){e&&e.createUser&&e.createUser.id?O({variables:{username:t,password:u}}):h(!0)}}),j=Object(oe.a)(y,2),A=j[0],I=j[1].loading,C=x||I;return a.a.createElement(ja,null,a.a.createElement(Aa,null,a.a.createElement(ct.a,{placeholder:"Username",value:t,onChange:function(e){var n=e.target.value;r(n),h(!1)},error:b,disabled:C}),a.a.createElement(ct.a,{type:"password",placeholder:"Password",value:u,onChange:function(e){return l(e.target.value)},disabled:C}),a.a.createElement(ct.a,{type:"password",placeholder:"Confirm Password",value:m,onChange:function(e){return f(e.target.value)},disabled:C}),a.a.createElement(Ia,null,"Don't use your normal password, this shit ain't secure."),a.a.createElement(it.a,{primary:!0,loading:C,disabled:!t||!u||u!==m||b,onClick:function(){A({variables:{username:t,password:u,we:!1}})}},"Signup")))},ja=m.b.div(xa()),Aa=m.b.div(Oa()),Ia=m.b.div(Ea());function Ca(){var e=Object(u.a)(["\n  position: absolute;\n  bottom: 24px;\n  display: flex;\n  justify-content: center;\n\n  button {\n    margin-left: 8px;\n    margin-right: 0;\n  }\n\n  > button:first-child {\n    margin-right: 8px;\n    margin-left: 0;\n  }\n"]);return Ca=function(){return e},e}function wa(){var e=Object(u.a)(["\n  height: 300px;\n  width: 250px;\n  border: 1px solid black;\n  border-radius: 5px;\n  background-color: #fff;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n  padding-top: 24px;\n\n  .ui.input {\n    margin-bottom: 12px;\n  }\n"]);return wa=function(){return e},e}function ka(){var e=Object(u.a)(["\n  height: calc(100% - 72px);\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return ka=function(){return e},e}var Pa=function(){var e=a.a.useState(""),n=Object(oe.a)(e,2),t=n[0],r=n[1],i=a.a.useState(""),c=Object(oe.a)(i,2),o=c[0],u=c[1],l=a.a.useState(!1),d=Object(oe.a)(l,2),m=d[0],f=d[1],p=va((function(){return f(!0)})),g=Object(oe.a)(p,2),b=g[0],h=g[1].loading,v=function(){b({variables:{username:t,password:o}})};return a.a.createElement(Ra,null,a.a.createElement(Ba,null,a.a.createElement(ct.a,{placeholder:"Username",value:t,onChange:function(e){var n=e.target.value;r(n),f(!1)},error:m}),a.a.createElement(ct.a,{type:"password",placeholder:"Password",value:o,onChange:function(e){return u(e.target.value)},onKeyDown:function(e){return function(e){"Enter"===e.key&&t&&o&&v()}(e)},error:m}),a.a.createElement(Na,null,a.a.createElement(it.a,{primary:!0,loading:h,disabled:!t||!o||m,onClick:v},"Login"),a.a.createElement(s.b,{to:"/signup"},a.a.createElement(it.a,{secondary:!0},"Signup")))))},Ra=m.b.div(ka()),Ba=m.b.div(wa()),Na=m.b.div(Ca()),Ma=t(204),Da=t(543),Sa=t(539),Ua=t(538);function Ga(){var e=Object(u.a)(["\n  query GetOnlineUsernames {\n    getOnlineUsernames\n  }\n"]);return Ga=function(){return e},e}var La=j()(Ga());function Ta(){var e=Object(u.a)(["\n  mutation CreateGame($mapName: String!, $usernames: [String!]! $name: String) {\n    createGame(mapName: $mapName, usernames: $usernames, name: $name)\n  }\n"]);return Ta=function(){return e},e}var Ya=j()(Ta());function za(){var e=Object(u.a)(["\n  query GetMyRecentGames {\n    getMyRecentGames {\n      id\n      name\n      players\n    }\n  }\n"]);return za=function(){return e},e}var Qa=j()(za());function Ha(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n\n  i {\n    margin-left: 4px !important;\n  }\n"]);return Ha=function(){return e},e}function Fa(){var e=Object(u.a)(["\n  height: calc(100% - 72px);\n  width: 100%;\n  padding: 0 1rem;\n\n  .ui.buttons {\n    margin-top: 100px !important;\n  }\n"]);return Fa=function(){return e},e}var Va=function(){var e=Object(d.f)(),n=Object(o.useQuery)(te).data,t=Object(o.useQuery)(Qa,{pollInterval:2e3}).data,r=n&&n.getCurrentUser&&n.getCurrentUser.username,i=Object(o.useQuery)(La,{pollInterval:2e3}),c=i.data,u=i.loading,l=Object(o.useMutation)(Ya,{onCompleted:function(n){n&&n.createGame&&e.push("/game/".concat(n.createGame))}}),m=Object(oe.a)(l,2),f=m[0],p=m[1].loading,g=a.a.useState(""),b=Object(oe.a)(g,2),h=b[0],v=b[1],E=a.a.useState([]),O=Object(oe.a)(E,2),x=O[0],y=O[1];a.a.useEffect((function(){r&&!x.includes(r)&&y([r].concat(Object(se.a)(x)))}),[r]);var j=a.a.useState("USA"),A=Object(oe.a)(j,2),I=A[0],C=A[1],w=["USA","Germany","Italy","Seattle","Northern Europe","China","France"].map((function(e){return{key:e,value:e,text:e}}));return a.a.createElement(Za,null,a.a.createElement(Ma.a.Group,{horizontal:!0},a.a.createElement(Ma.a,{raised:!0},a.a.createElement(Da.a,null,"Your Recent Games"),t&&t.getMyRecentGames&&t.getMyRecentGames.map((function(e){return a.a.createElement(s.b,{to:"/game/".concat(e.id)},a.a.createElement(Sa.a,null,a.a.createElement(Sa.a.Content,null,a.a.createElement(Sa.a.Description,null,e.name||"Game #".concat(e.id)),a.a.createElement(Sa.a.Meta,null,e.players.join(", ")))))}))),r&&a.a.createElement(Ma.a,{raised:!0},a.a.createElement(Da.a,null,"Start a Game"),a.a.createElement(ct.a,{placeholder:"Give it a name",value:h,onChange:function(e){return v(e.target.value)}}),a.a.createElement(Da.a,{size:"small"},"Map"),a.a.createElement(Ua.a,{selection:!0,options:w,defaultValue:I,onChange:function(e,n){return C(n.value)}}),a.a.createElement(Da.a,{size:"small"},"Players"),x.map((function(e){return a.a.createElement(qa,{key:e},e,e!==r&&a.a.createElement(vr.a,{color:"red",name:"remove circle",onClick:function(){return function(e){y(x.filter((function(n){return n!==e})))}(e)}}))})),a.a.createElement(it.a.Group,null,a.a.createElement(it.a,{primary:!0,loading:p,disabled:x.length<2||x.length>6,onClick:function(){f({variables:{name:h,usernames:x,mapName:I}})}},"Start it!"))),a.a.createElement(Ma.a,{raised:!0,loading:u},a.a.createElement(Da.a,null,"Buddy List"),c&&c.getOnlineUsernames&&c.getOnlineUsernames.map((function(e){return a.a.createElement(qa,{key:e},e,e!==r&&a.a.createElement(vr.a,{color:"green",name:"add circle",onClick:function(){return n=e,void(x.includes(n)||y([].concat(Object(se.a)(x),[n])));var n}}))})))))},Za=m.b.div(Fa()),qa=m.b.div(Ha()),Wa=t(313),Xa=function(){$r();var e=Object(d.f)(),n=Object(o.useQuery)(te),t=n.loading,r=n.error,i=n.data,c=!t&&!r&&i&&i.getCurrentUser;return a.a.createElement(Wa.a,null,a.a.createElement(Wa.a.Item,null,a.a.createElement(s.b,{to:"/"},a.a.createElement(Da.a,null,"Terrawatts 2.0"))),a.a.createElement(Wa.a.Menu,{position:"right"},c?a.a.createElement(a.a.Fragment,null,a.a.createElement(Wa.a.Item,null,a.a.createElement(s.b,{to:"/profile"},i.getCurrentUser.username)),a.a.createElement(Wa.a.Item,{onClick:function(){ha.a.remove("access_token"),e.push("/login"),window.location.reload()}},"Logout")):a.a.createElement(a.a.Fragment,null,a.a.createElement(Wa.a.Item,null,a.a.createElement(s.b,{to:"/login"},"Login")),a.a.createElement(Wa.a.Item,null,a.a.createElement(s.b,{to:"/signup"},"Signup")))))};function Ka(){var e=Object(u.a)(["\n  mutation SetUserPreferences($preferredColor: Color, $we: Boolean) {\n    setUserPreferences(preferredColor: $preferredColor, we: $we) {\n      id\n      preferredColor\n    }\n  }\n"]);return Ka=function(){return e},e}var Ja=j()(Ka());function $a(){var e=Object(u.a)(["\n  height: 300px;\n  width: 350px;\n  border: 1px solid black;\n  border-radius: 5px;\n  background-color: #fff;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n  padding: 24px 0;\n\n  input {\n    margin-top: 12px !important;\n  }\n\n  button {\n    margin-top: auto !important;\n  }\n"]);return $a=function(){return e},e}function _a(){var e=Object(u.a)(["\n  height: calc(100% - 72px);\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return _a=function(){return e},e}var ei=function(){var e=Object(d.f)(),n=Object(o.useQuery)(te).data,t=Object(o.useMutation)(Ja,{onCompleted:function(){return e.push("/")}}),r=Object(oe.a)(t,2),i=r[0],c=r[1].loading,u=a.a.useState(n.getCurrentUser.preferredColor),l=Object(oe.a)(u,2),s=l[0],m=l[1],f=a.a.useState(""),p=Object(oe.a)(f,2),g=p[0],b=p[1],h=[M.RED,M.YELLOW,M.GREEN,M.PURPLE,M.BLACK].map((function(e){return{key:e,value:e,selected:e===s,text:e.toLowerCase()}}));return a.a.createElement(ni,null,a.a.createElement(ti,null,a.a.createElement(Da.a,null,n.getCurrentUser.username,"'s Profile"),a.a.createElement("hr",null),a.a.createElement(Ua.a,{placeholder:"Favorite color",clearable:!0,selection:!0,options:h,defaultValue:s,onChange:function(e,n){return m(n.value)}}),a.a.createElement(ct.a,{placeholder:"Favorite type of energy",value:g,onChange:function(e){return b(e.target.value)}}),a.a.createElement(it.a,{loading:c,onClick:function(){i({variables:{preferredColor:s,we:g.includes("weed")}})},primary:!0},"Save")))},ni=m.b.div(_a()),ti=m.b.div($a());function ri(){var e=Object(u.a)(["\n  query FetchMap($mapName: String!, $regions: [Int!]) {\n    fetchMap(mapName: $mapName, regions: $regions) {\n      id\n      name\n      cities {\n        id\n        name\n        lat\n        lng\n        region\n      }\n      connections {\n        id\n        cost\n        cities {\n          id\n        }\n      }\n    }\n  }\n"]);return ri=function(){return e},e}var ai=j()(ri());function ii(){var e=Object(u.a)(["\n  mutation SaveMap($mapInput: MapInput!) {\n    saveMap(mapInput: $mapInput) {\n      id\n      name\n      cities {\n        id\n        name\n        lat\n        lng\n        region\n      }\n      connections {\n        id\n        cost\n        cities {\n          id\n        }\n      }\n    }\n  }\n"]);return ii=function(){return e},e}var ci=j()(ii());function oi(){var e=Object(u.a)(["\n  position: absolute;\n  right: 16px;\n  top: 16px;\n  z-index: 1000;\n"]);return oi=function(){return e},e}function ui(){var e=Object(u.a)(["\n  height: 100%;\n\n  > div {\n    height: 100%;\n  }\n\n  .leaflet-div-icon {\n    background: none !important;\n    border: none !important;\n  }\n"]);return ui=function(){return e},e}var li="https://api.mapbox.com/v4/mapbox.satellite/{z}/{x}/{y}.png?access_token=".concat("pk.eyJ1IjoibWJpbmdiZXIiLCJhIjoiY2l6eGcxMmw2MDJreTMycXJqeTVuejNvaSJ9.bA_ZZVqysUAZs7wyw0ckRw"),si=function(e){var n=e.map,t=a.a.useState(n),r=Object(oe.a)(t,2),i=r[0],c=r[1],u=a.a.useState(!0),s=Object(oe.a)(u,2),d=s[0],m=s[1],g=Object(o.useMutation)(ci,{onCompleted:function(){return m(!0)},onError:function(e){return l.b.error(e.message)}}),b=Object(oe.a)(g,2),h=b[0],v=b[1].loading,E=i.cities.reduce((function(e,n){return e[n.id]=n,e}),{}),x=ce(i.name),y=x.center,j=x.minZoom,A=x.maxZoom,I=x.maxBounds;return a.a.createElement(a.a.Fragment,null,!d&&a.a.createElement(fi,null,a.a.createElement(it.a,{primary:!0,loading:v,onClick:function(){var e=n.cities.filter((function(e){var n=E[e.id];return n.lat!==e.lat||n.lng!==e.lng})).map((function(e){return E[e.id]})),t={id:i.id,name:i.name,cities:e.map((function(e){return{id:e.id,lat:e.lat,lng:e.lng}}))};h({variables:{mapInput:t}})}},"Save")),a.a.createElement(f.a,{center:y,zoom:j,minZoom:j,maxZoom:A,maxBounds:I,attributionControl:!1,zoomControl:!1,zoomSnap:.25,zoomDelta:.25},a.a.createElement(p.a,{url:li}),i.cities.map((function(e){return a.a.createElement(K,{key:e.id,city:e,hasNuclearPower:"Northern Europe"===i.name&&e.region>2,isDraggable:!0,onDragEnd:function(n){var t,r=n.lat,a=n.lng;return t={id:e.id,lat:r,lng:a},c(Object(ue.a)(Object(ue.a)({},i),{},{cities:i.cities.map((function(e){return t.id===e.id?Object(ue.a)(Object(ue.a)({},e),{},{lat:t.lat,lng:t.lng}):e}))})),void m(!1)}})})),a.a.createElement(O,{cityLookup:E,connections:n.connections})))},di=function(){var e=Object(d.h)().mapName,n=Object(o.useQuery)(ai,{variables:{mapName:e}}).data,t=n&&n.fetchMap;return a.a.createElement(mi,null,t?a.a.createElement(si,{map:t}):"Loading...")},mi=m.b.div(ui()),fi=m.b.div(oi());function pi(){var e=Object(u.a)(["\n  height: 100vh;\n  width: 100vw;\n"]);return pi=function(){return e},e}var gi=function(){return Object(o.useQuery)(te).loading?null:a.a.createElement(bi,null,a.a.createElement(l.a,null),a.a.createElement(s.a,null,a.a.createElement(d.a,{exact:!0,path:["/signup","/login","/profile","/"],children:a.a.createElement(Xa,null)}),a.a.createElement(d.c,null,a.a.createElement(d.a,{exact:!0,path:"/signup",children:a.a.createElement(ya,null)}),a.a.createElement(d.a,{exact:!0,path:"/login",children:a.a.createElement(Pa,null)}),a.a.createElement(d.a,{exact:!0,path:"/game/:gameId",children:a.a.createElement(ca,null)}),a.a.createElement(d.a,{exact:!0,path:"/map-editor/:mapName",children:a.a.createElement(di,null)}),a.a.createElement(d.a,{exact:!0,path:"/profile",children:a.a.createElement(ei,null)}),a.a.createElement(d.a,{exact:!0,path:"/",children:a.a.createElement(Va,null)}),a.a.createElement(d.a,{children:function(){return a.a.createElement("div",null,"Not found, TODO")}}))))},bi=m.b.div(pi()),hi=t(310),vi=t(4),Ei=t(311),Oi="terrawatts2-server.fly.dev",xi=new o.HttpLink({uri:"https://".concat(Oi),credentials:"include"}),yi=new hi.a({uri:"wss://".concat(Oi,"/graphql"),options:{reconnect:!0}}),ji=Object(Ei.a)((function(e,n){var t=n.headers,r=ha.a.get("access_token");return{headers:Object(ue.a)(Object(ue.a)({},t),{},{authorization:r?"Bearer ".concat(r):""})}})),Ai=Object(o.split)((function(e){var n=e.query,t=Object(vi.p)(n);return"OperationDefinition"===t.kind&&"subscription"===t.operation}),yi,ji.concat(xi)),Ii=new o.ApolloClient({link:Ai,cache:new o.InMemoryCache});c.a.render(a.a.createElement(o.ApolloProvider,{client:Ii},a.a.createElement(gi,null)),document.getElementById("root"))}},[[326,1,2]]]);
//# sourceMappingURL=main.805e759a.chunk.js.map